

         HAT hatch utilities version 3.0
         Copyright 1990, 1991, 1992 Michael E. Ross
         All Rights Reserved.

         Now, AutoCAD can:
           - create true ASSOCIATIVE hatching!
           - create editable hatches!
           - dynamically hatch areas!
           - list all the vital statistics of an existing hatch!
         Only with HAT 3.0

         This program is distributed as Shareware.  You are allowed
         to try the HAT hatch utilities FREE, but if you decide to
         keep the utilities, you MUST register.  See the registration
         form HATORDER.DOC included with the HAT programs.  Your
         evaluation period must not exceed 2 weeks.

         The trial copy of HAT has been embedded with registration
         reminder notices.  When you register your copy, you will be
         sent a new copy of HAT 3.0 with no such reminder notices.

         THIS SOFTWARE IS PROVIDED "AS IS" WITHOUT EXPRESS OR IMPLIED
         WARRANTY. ALL IMPLIED WARRANTIES ARE HEREBY DISCLAIMED.
         HAT is a group of programs designed to make using the hatch
         utility of AutoCAD easier.

         Feel free to distribute HAT, as long as you include:

            HAT30.DOC     this file
            HAT30.LSP     the program
            HAT30.MNU     icon menu accessed by HAT30.LSP
            HAT30.DWG     sample drawing to try HAT (try it!)
            HATORDER.DOC  order form

         If you simply pass along the compressed HAT30 file, all these
         files will be included.  The Compression format will depend
         on where you obtained the HAT30 file.  Some electronic
         bulletin boards may distribute only ZIP files which must be
         decompressed with PkunZIP.  If the HAT30 file you have has
         an .EXE extension, then this is a self extracting compressed
         file and you need only type the word HAT30 for decompression
         to begin.

         Even if you decide not to register, please fill out the
         comments portion of the registration form to let me know what
         you thought and any suggestions you may have.

         Finally, please don't abuse the Shareware system, it has been
         a real boon to thousands of computer users, and has provided
         fantastic macros and programming. It provides you with the
         opportunity to try software out BEFORE you buy it.



                                                                          Page 2

         To register your copy of HAT 3.0, simply print out and
         complete the accompanying order form, HATORDER.DOC. Send the
         completed form with your payment to the address shown on the
         order form, or listed at the end of this document.

         The order price for HAT 3.0 is $40.00 (U.S.).
         Upgrading from  earlier versions is $15.00.



                                                                          Page 3


                                    HAT 3.0
                              Instruction Manual

                                   20 Sep 92

                  Copyright 1989, 1990, 1992 Michael E. Ross
                              All Rights Reserved


         Table of Contents:                                     Page

            Introduction, What is HAT 3.0 ........................4

            What HAT does.........................................4

            Installing HAT 3.0 ...................................6

            How to use HAT........................................8

            Tips on using HAT.....................................11

            Enhancements to HAT...................................12

            Technical info........................................16







         Changes and additions to this manual are denoted by a
         vertical line in the left margin.

         AutoCAD & AutoLISP are registered trademarks of AutoDesk Inc.
         PkunZIP is a registered trademark of PKWARE inc.



                                                                          Page 4
         ----------------------What is HAT 3.0------------------------

         HAT30.LSP is an AutoLISP program which enhances the AutoCAD
         R.10, R.11 and R.12 hatch command.

         Have you ever tried to find out what pattern name, scale or
         angle was used to create an existing hatch pattern?

|        Have you ever wished to edit a hatch pattern, such as change
|        the scale, rotation angle, pattern name, insert point, or
|        even stretch?

         Or have you ever created a hatched area only to decide you
         don't like the scale or rotation angle, or you wish you
         could just move the pattern slightly?  If so, you most likely
         erased the pattern and rehatched the area, possibly repeating
         the process several times until you were satisfied.

         If you have wished for an easy solution to these problems,
         then HAT 3.0 is for you!


         ----------------------WHAT HAT.LSP DOES----------------------

         HAT works much like the AutoCAD hatch command, but also
         allows you to dynamically RESCALE and ROTATE, and MOVE hatch
         patterns as you create them.

|        True ASSOCIATIVE hatching is accomplished by using HAT 3.0 on
|        AutoCAD R.11 or higher.

         In addition, HAT records hatch information about each hatch
         pattern it creates. This information is stored within the
|        drawing and may be REFERENCED at any time.  HAT 3.0 does not
|        use external data files which can cause incompatibility
|        problems and file management headaches.

         If you want to hatch an area with the same pattern, scale and
         angle as an existing pattern, there is also a SELECT option
         to MATCH existing patterns.

         HAT can only extract reference information from hatch
         patterns which were created with the HAT command.

         HAT improves on the AutoCAD hatch command by giving full
         control of hatch patterns.  HAT does everything the hatch
         command does and more!



                                                                          Page 5

         HAT even knows if a pattern has been rescaled or rotated
         after its original creation.  When you query HAT about such
         a hatch pattern, HAT will report the actual scale and
|        rotation.  Standard R.12 does allow "listing" a hatch
|        pattern, but R.12 does not know if the pattern was rescaled,
|        or rotated after its creation.  HAT 3.0 does!

|        HAT supports Bhatch and other new features in R.12, but HAT
|        3.0 does more.  HAT 3.0 provides faster true dynamic
|        hatching, and editable associative hatches.



                                                                          Page 6

         ---------------------INSTALLING HAT 3.0----------------------

         HAT 3.0 is for use with AutoCAD R.10, R.11 and R.12 dos and
         386 versions.

         Installing HAT is easy.

         The recommended platform for HAT is a 386 version of
         AutoCAD.  If you do not have 386 AutoCAD, extended lisp
         is highly recommended, and if you do not have sufficient
         memory for extended lisp, use a lispstack=5000 in your
         Autoexec.bat file.

         If you just have one file called HAT30.EXE or HAT30.ZIP or
         some such name, the first step is decompressing the HAT
         files.

         If you are reading this, you obviously have successfully
         decompressed the HAT30 compressed file, however the
         following is provided for the sake of general information.

           In the case of HAT30.EXE, this is a self extracting
           compressed file.  All you need to do is log onto the drive
           which contains HAT30.EXE, and type HAT30 and enter.  The
           HAT files will be automatically decompressed to the drive
           where HAT30 is located.

           If your file is called HAT30.ZIP you will need to
           decompress with PkunZIP program (available as Shareware
           on most electronic bulletin boards).

           The compression format for the HAT30 compressed file will
           depend on where you obtained the HAT30 file from.  If your
           source was Compuserve, the format will be EXE or self
           extracting.  Some electronic bulletin boards use their own
           standard compression format such as ZIP or PAK.


         Decompressing the HAT30 compressed file will generate the
         following 5 HAT files:
            HAT30.DOC     this file
            HAT30.LSP     the program
            HAT30.MNU     icon menu accessed by hat30.lsp
            HAT30.DWG     sample drawing to try HAT (try it!)
            HATORDER.DOC  order form

         Now you simply copy the above files to the directory you use
         for AutoCAD.  See example below.


                                                                          Page 7

         If you use a special directory for lisp programs you may
         put HAT30.LSP there, but the file HAT30.MNU must be in the
         AutoCAD library path (either the directory where ACAD.EXE
         is or a directory specified by the ACAD environment
|        variable.  The ACAD environment variable is set by the
|        following command:
|          SET ACAD=path;anotherpath;yetanotherpath
|        and is normally used in the batch program you use to start
|        AutoCAD.

         see AutoCAD Reference Manual R.11, page 480).

         example:
           Your acad.exe file is on the C: drive, \acad12 subdirectory.
           The HAT files are on a floppy diskette in drive A:.

           simply type:
           copy a:*.* c:\acad12
           and hit return

           Now when you are in AutoCAD drawing editor, you can type:
           (load"hat30")
           and hit return. You must type the parenthesis and quotes
           exactly as shown. When you have done this you will see the
           message:
           Loaded HAT 3.0 programs. (c)1991 Michael E. Ross.
           You may now type:
           hat
           and hit return. The HAT program will take it from there!


                                                                          Page 8
         ------------------------HOW TO USE HAT-----------------------

         For a "Quick Intro" to HAT, load the sample drawing,
         HAT30.DWG, on your machine and follow the suggestions shown.

         Load the HAT programs by typing (load"hat30") from the
         AutoCAD drawing editor, (the hat files must be in the ACAD
         search path such as the directory where ACAD.EXE is). For
         more information on the load command, see page 113 of the
         AutoLISP Programmers Reference Release 11.
         (see "Installing HAT 3.0" above)

         Type the word hat from the Command: prompt. That's all
         there is to it. Follow the prompts as you would the regular
         hatch command:

         (The specific method of prompting may vary if a qualified
         AutoCAD customizer has implemented Hat Custom Menus as
         described below, but the concepts remain the same)

|        Please note that the capital letters of the option key words
|        are all that are required to enter the commands.

|          1. Pattern name/[S]elect/[U]ser/[E]dit/[L]ist/?/ <default>:
              a. you can type the name of the pattern you want to use.
              b. type S and you may Select an existing hatch to match
                 it (as long as it was created with HAT.LSP).
              c. type U and create a user defined hatch just like the
                 user option of the standard hatch command.
|             d. type E to edit an existing hatch pattern created with
|                HAT.
|             e. type L to list the pattern name, current scale, and
|                current rotation angle.
              f. type a ? and you can use the icon menus to select
                 your pattern.  (see the section of this document
                 titled "INSTALLING HAT 3.0").
              g. hit return to accept the default pattern.

              Any of the N,O, or I modifiers may be added to the
              pattern name. (see page 400 R.11 reference manual)

              Any "legal" pattern name may be specified whether
              it is part of ACAD.PAT or a custom pattern name.
              (see page 402 R.11 reference manual)



                                                                          Page 9

|        If you typed E to edit a hatch pattern, you must select an
|        existing hatch pattern.  The pattern you select must have
|        been created by any version of HAT or R.12 standard hatch for
|        the Edit option to have any effect.  If you select a pattern
|        which was created by a version of HAT prior to 3.0, or was
|        created by R.12 without HAT, you may be prompted to select
|        the boundary objects.  Do not panic, just select the boundary
|        objects, HAT will proceed with the edit function.  The next
|        time you edit the pattern, you will not be required to
|        reselect the hatch boundary, as it will be converted to an
|        associative hatch pattern.

|        The exact command sequence and input HAT requests will vary
|        slightly depending on what version of AutoCAD you are using.
|        Use the following option descriptions as a guide.


           2. Scale for pattern <default>:

              a. type in a scale (or pick 2 points on screen)
              b. hit return to accept the default

           3. Angle for pattern <default>:

              a. type in an angle (or you can pick an angle on screen)
              b. hit return to accept the default

|          4. Select objects (or B for Bhatch):

|             (The Bhatch option is only offered when using R.12)

              pick the border(s) for your hatch pattern using any of
              the standard Select options.

|             If you are using R.12 and typed a B for Bhatch, then you
|             may simply pick a point inside of the desired area to
|             hatch.

              HAT.LSP hatches the selected area and prompts you for
              rescaling and rotating options:

|          5. Do you want to REscale/ROtate/Move/New pattern/Stretch <Done>:

              a. type the first letter(s) of the option you want.
                 HAT will reprompt you for new value required, then
                 rehatch the area automatically, and return to this
                 prompt. You can keep adjusting the pattern until you
                 are satisfied.



                                                                         Page 10

|             b. Stretch option initiates a true stretch command.  You
|                must select two points describing a window completely
|                enclosing the endpoints of all entities you wish to
|                stretch.  Base point and displacement for the stretch
|                operation may be provided just like the standard
|                stretch command.  For more information about how
|                stretch works, see the AutoCAD reference manual.
|                When you finish the stretch operation, the hatch will
|                be regenerated with its new modified boundaries.

              c. hit return to accept the scale angle and position.

          The next prompt only applies to AutoCAD R.10 users, if your
          system is AutoCAD R.11 or above, HAT 3.0 uses a different,
          more efficient technique to attach reference information,
          namely extended entity data.  This only adds about 100 bytes
          to your drawing, so HAT does not bother to ask whether you
          want it attached, it just does it.

          6. Do you want to make a Hatch Reference Block? <Yes>:

              a. hit return to store the info about the hatch you just
                 made. An invisible reference block will be inserted
                 into the drawing. The reference block takes about 400
                 bytes.

              b. if for some reason, you don't want the reference
                 block to be inserted, type n. If you do this, you
                 won't be able to get the pattern info (name, scale,
                 and angle) at a later time, it will be just like a
                 hatch created with the 'hatch' command.

|        If you are using R.11 or above, you may notice strange "dots"
|        around the hatched area.  Do not be alarmed.  These are
|        control points necessary for hatch editing as described
|        above.  They will not plot.  They are similar to the control
|        points created by associative dimensioning.  Associative
|        hatches, created by HAT are, like associative dimensions,
|        independent entities.  You may erase their boundaries and
|        still edit them later.

         That's it! Not only does HAT30.LSP make creating hatch patterns
         easier but it enables you to find out what pattern, scale and
         angle was used at any time in the drawings life.  Editable,
|        Associative hatching has been on the "wish lists" for years!
|        Now you have it!



                                                                         Page 11
         HATCLR
           Function to erase stray HAT attributes left by exploding a
           hatch pattern created with HAT 1.5 or earlier.  These
           attributes are for the most part harmless, but may plot as
           a dot in your drawing and will cause attribute prompting if
           the drawing they are in is inserted as a block. HATCLR
           finds them, and gets rid of them. To use HATCLR simply load
           HAT as described above, and type 'hatclr' at the command
           prompt.

           HAT 3.0 does not use attributes to store hatch information,
           it uses extended entity data.  This approach, only possible
           with new lisp commands in R.11, is faster, cleaner, uses
           less memory and leaves no stray attributes if you should
           explode the hatch pattern.



         -------------------TIPS ON USING HAT 3.0---------------------

         Hat may be employed to manipulate hatch patterns in some very
         useful ways. Here are a few examples:

           EXAMPLE 1:
           The Move option of HAT also allows you to align a new hatch
           pattern created adjacent to an existing hatched area.

           If you wish to hatch an area next to an existing hatched
           area, possibly to expand the hatched area without redoing
           the whole thing, first use the Select option described
           above to "match" the pattern, scale and angle. If the old
           hatch pattern has been moved, rotated or relocated in any
           way, the new pattern will have a different insert point
           and the patterns will not align.

           To align the new pattern to the old one, simply use the
           Move option during the HAT operation; type "M" for move,
           then for the base point or displacement, use "osnap
           nearest" and select a point on the NEW hatch pattern, for
           the second point of the move, use "osnap nearest" and
           select a point on the OLD hatch pattern. This will align
           the new hatch pattern to mesh with the existing one
           provided similar points in the patterns are "osnaped".

         There are other tricks which HAT enables a creative thinker
         to accomplish.  If you have come up with a handy application
         with HAT, I'd like to hear about it, I may even include it
         in this section of future releases of HAT.


                                                                         Page 12
         ------------------ENHANCEMENTS FOR HAT 3.0-------------------

|        HAT 3.0 incorporates enhancements suggested by users, and
|        enhancements made possible by new command features in R.12.

|        The most significant improvement of HAT 3.0 is the ability to
|        edit and create associative hatch patterns.  The patterns
|        created by HAT 3.0 are associative in that they are
|        stretchable, and editable.  The level of functionality of the
|        associative hatches will depend upon which version of AutoCAD
|        you are using.  Patterns generated with R.11 and above will
|        be fully editable and associative.  Patterns generated on
|        R.10 will require reselection of the hatch boundary for
|        editing.

|        HAT 3.0 detects if it is running on R.12.  If so, the bhatch
|        option is offered when generating new patterns.  This allows
|        the user to simply pick a point within the hatch boundary to
|        describe the area.  The bhatch option works just like the
|        same command in R.12.

|        The interface of HAT has been cleaned up to incorporate Edit,
|        and List options in the first user prompt.  The List option
|        replaces the former HATREF function used to list or reference
|        hatch patterns generated by HAT.



         ------------------ENHANCEMENTS FOR HAT 2.3-------------------

         HAT 2.3 has incorporated some very useful "user requested"
         features.  Many thanks to the users who have provided their
         thoughtful suggestions (and to those who have registered).

         HAT 2.3 has a more water tight error trapping routine which
         writes hatch reference data if a hatch has been generated
         regardless of how the program was terminated.  Formerly, if
         a ^C (cancel) was encountered during HAT operation, no
         reference data would be stored.  This was particularly
         troublesome since many users have AutoCAD menus with embedded
         ^Cs in their command items.  This no longer negates the HAT
         data.

         HAT 2.3 is now insensitive to the angdir or angbase setting.



                                                                         Page 13
         Custom Menus with HAT:
         HAT 2.3 incorporates global variables which serve as "hooks"
         to access custom menus for use with the HAT program.  Custom
         menus can be particularly useful in supplying the draughter
         with predefined options for input when using HAT.  The
         variables may be set by menu or macro imbedded commands by
         a competent AutoCAD customizer.  Each variable is designed
         to point to a specific menu for activation by the menucmd
         Autolisp command.  Each variable also has a corresponding
         optional prompt variable, which if set to a string, will be
         displayed with the users custom menu.  A list of each
         variable set and exactly which phase of HAT they will be
         activated in follows:

         Menu variable   Prompt variable   Purpose
         _HCM1           _HCM1P            pattern prompt
         _HCM2           _HCM2P            scale prompt
         _HCM3           _HCM3P            angle prompt
         _HCM4           _HCM4P            for Re Ro M N prompt
         _HCM5           _HCM5P            for U Spacing prompt
         _HCM6           _HCM6P            for U Double prompt
         _HCM7           _HCM7P            for U Re Ro M N prompt

         Each "hatch custom menu" variable is totally optional.  If
         one is not supplied, HAT will operate normally, and expect
         user input to come from the keyboard.  If _HCM1 is used, this
         will activate the specified menu during the prompt for
         pattern name.  This will override the built in ? option which
         normally caused a menu swap to HAT30.MNX.  No menu swap will
         occur, but the user's specified menu will activate if valid.

         Examples of usage:
         (setq _HCM1 "i=hat1" _HCM1P "Select pattern: ")
         This will cause an Icon menu called HAT1 to display during
         the prompt for pattern name.  Also the prompt "Select
         pattern" will be printed on the command line.  The icon menu
         for _HCM1P must return one of the valid options such as U, S,
         or a pattern name.

         (setq _HCM2 "s=hatscl" _HCM2P "Select scale: ")
         This will cause a screen menu to display when HAT prompts
         the user for the pattern's scale.  If the user opts to
         dynamically change pattern scale during HAT, this screen
         menu and prompt will repeat.

         (setq _HCM4 "s=hatopt1" _HCM4P "Select option: ")
         This will cause a screen menu to display.  _HCM4 must return
         one of the option key words: RE RO M or N.  This menu will
         redisplay as the user dynamically adjusts the pattern.



                                                                         Page 14

         The Hatch Custom Menu variables may point to any of the
         normal AutoCAD menus.  The global variables may be set when
         HAT is loaded or in ACAD.LSP etc.

         The Hatch Custom Menus offer the AutoCAD customizer total
         flexibility and control over the HAT program.  Users will
         be pleased by the well designed menu which will allow less
         typing and more AutoCADing.

         ------------------ENHANCEMENTS FOR HAT 2.0-------------------

         Summary of improvements implemented by HAT 2.0:

           Hat recognizes which version of AutoCAD is being used and
           responds accordingly, utilizing new features described
           below if it finds R.11 or higher.

           If R.10 is detected, HAT uses attributes to store hatch
           data.  This is the same method as HAT versions 1.0 through
           1.5.

           If R.11 is detected, HAT uses extended entity data to store
           the hatch data.  This method is only possible due to new
           commands in R.11.  Using extended entity data is better
           than attributes for the following reasons:
            -It is faster to generate.
            -It uses less memory.
            -It retains the name of the hatch block (an unnamed block)
               rather than having to make up a block name.
            -Attributes do not become stranded should the hatch block
               be exploded.

           HAT and HATREF will recognize the hatch Regardless of which
           type of hatch reference info is attached to the pattern, as
           long as the hatch was created with a version of HAT.


         ------------------ENHANCEMENTS FOR HAT 1.5-------------------

         Summary of improvements implemented by HAT 1.5:

           HAT command repeat. If you press enter immediately after
           using HAT, you get the Select objects: prompt, skipping
           the initial HAT prompts. This has been added to more
           closely imitate the standard hatch command.

           N, O and I modifiers (normal, outermost and ignore) are
           now allowed (preceded by a comma) for all legal pattern
           names.



                                                                         Page 15

           All legal pattern names are now supported, whether the
           patterns are in the acad.pat file or are custom pattern
           files located elsewhere.

           The first pick for Select objects: prompt may now be a
           window, crossing, previous, last or any other legal
           response to a normal Select objects: prompt.

         ------------------ENHANCEMENTS FOR HAT 1.4-------------------

         Summary of improvements implemented by HAT 1.4:

           A problem with text styles defined with a fixed height is
           fixed.  HAT is not affected by either fixed or variable
           height text.

           Reference blocks are now given unique names so that block
           redefinition does not occur if a drawing with HAT reference
           blocks is inserted onto another.

           The color of HAT patterns is now changeable as are normal
           hatch patterns.

           HAT now reads the ACAD.PAT file with more versatility.  If
           a customized ACAD.PAT file is used, the pattern header does
           not require the pattern description as required by HAT 1.3.


         ------------------ENHANCEMENTS FOR HAT 1.3-------------------

         The following is a list of the improvements made by HAT 1.3:

           User defined hatch patterns are now allowed and fully
           supported by HAT and HATREF.  User defined hatch patterns
           may even be matched with the Select option of HAT 1.3.

           The Move option now works more like the AutoCAD Move
           command.  Absolute and relative points may be supplied
           as well as Displacement.

           Hatches created with HAT 1.3 may now be changed to
           different layers and the hatch will adopt the
           characteristics of that layer (color linetype etc.).

           HAT 1.3 and HATREF will report the actual scale and angle
           of a hatch pattern created with HAT even if it has been
           scaled or rotated using AutoCAD editing commands.


                                                                         Page 16

         ---------------------HAT TECHNICAL INFO----------------------

         HAT 3.0 is for use with R.10, R.11 or R.12 dos or 386
         versions.

|        While AutoCAD R.12 allows listing of hatch patterns to
|        determine the ORIGINAL pattern name scale and angle, HAT 3.0
|        list option reports the ACTUAL CURRENT pattern name, scale,
|        and angle of the hatch.  This means that if your hatch pattern
|        has been rescaled or rotated with normal editing commands,
|        R.12 will not report the accurate information while HAT 3.0
|        will.

|        In order for hatch patterns to be associative, they must
|        retain their boundary information in some fashion.  HAT 3.0
|        does this much like associative dimensions do with their
|        control points.  The control points used by HAT 3.0, like
|        the control points used for associative dimensions, will not
|        plot even though they may be visible.

         HAT searches the ACAD.PAT file to determine if pattern names
         typed in are valid.  Custom hatch patterns, may be specified
         if they are legal pattern definitions and are in a directory
         where AutoCAD will find them.

         HAT will bomb if you have set Undo Control to one or none.

         All versions of HAT prior to version 2.0 and HAT 3.0 running
         on R.10 use attributes to store the hatch information.  If
         one such hatch pattern is exploded, the attributes will be
         stranded or left on your drawing.

         HAT 3.0 running on R.11 does not use attributes, rather
         extended entity data.  This is more memory efficient,
         executes faster than creating attributes, and has no side
         effects if the hatch pattern is exploded.

         The stray attributes left from exploding hatch patterns
         generated by HAT 3.0 running on R.10 are basically harmless
         but may be noticed as a dot on your plot (they're real
         small).  Also, if you insert the drawing on which the hatch
         was exploded, into another drawing, then you will probably
         get attribute prompts.  To avoid these side effects,
           1. don't explode hatch patterns
           2. or, use HATCLR described above to erase the HAT
              attributes. (Just type 'hatclr' after loading HAT).



                                                                         Page 17

         Only the capitalized letters of the option keywords used in
         HAT should be supplied.  For example, to initiate the Select
         option, an s or S are all that should be supplied.  This is
         necessary since a custom hatch patterns may have names
         similar to the option keywords.  If you make a custom screen
         menu to supply responses to HAT requests, limit the response
         options to only the necessary letters (such as S U RO).

         If you find the performance of HAT to be inadequate, please
         let me know by filling out the comments on the ORDER FORM.
         I have found HAT to work best on AutoCAD 386 or Extended
         lisp.


         Michael E. Ross
         610 E. Canon Perdido, 6
         Santa Barbara, CA 93103-3037
         U.S.A.

         Compuserve 73527,726

